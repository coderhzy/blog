# vim指令记录

## 1. **第一部： 一般指令模式可用的按钮说明，光标移动、复制粘贴、搜索取代等**


| 移动光标的方法 | 效果 |
| ---          |  ---        |
| h或 向左方向键 | 光标向左移动一个字符 |
| j或 向下方向键 | 光标向下移动一个字符 |
| k或 向上方向键 | 光标向上移动一个字符 |
| l或 向右方向键 | 光标向右移动一个字符 |
| ctrl + f     | 屏幕"向下"移动一页，相当于page down |
| ctrl + b     | 屏幕“向上”移动一页，相当于page up |
| ctrl + d     | 屏幕“向下”移动半页 |
| ctrl + u     | 屏幕”向上“移动半页 |
| +            | 光标移动到非空白字符的下一列 | 
| -            | 光标移动到非空白字符的上一列 | 
| n + space    | 那个n表示”数字“,**例如20**。按下数字再按空格，光标会向右移动这一列的n个字符。**例如20** + space则光标会向后移动20个字符距离。|
| 0 | 这是数字”0“：移动到这一列的最前面字符处(**常用**) | 
| $ | 移动到这一列的最后字符处(**常用**) | 
| H | 光标移动到这个屏幕的最上方那样一列的第一个字符 | 
| M | 光标移动到这个屏幕的中央那一列的第一个字符 | 
| L | 光标移动到这个屏幕的最下方那一列的第一个字符 |
| G | 移动到这个文件的最后一列(**常用**) | 
| nG | n为数字。移动到这个文件的第n列。例如20G则会移动到这个文件的第20列(**可配合 :set nu**)
| gg | 移动到这个文件的第一列，相当与1G (**常用**) |
| n + Enter | n为数字。光标向下移动n列(**常用**) | 

| 搜寻与取代 | 搜寻与取代 |
| ----     | --------- |
| /word    | 向光标之下寻找一个名称为word的字符串。例如要在文件内搜寻 `vbird` 这个字符串，则输入 `/vbird` (**常用**) |
| ?word | 向光标之上寻找一个字串名称为 word的字符串 |
| n | 这个n是英文按键。代表”重复前一个搜寻的动作“。举例来说，如果刚刚我们执行 `/vbird`这个字串，则按下n后，会**向下**继续搜寻下一个名称为`vbird`的子串。如果是执行`?vbird`的话，那么按下n则会向上继续搜寻名称为`vbird`的字串。|
| N | 这个n是英文按键。与n刚好相反，为”反向“进行前一个搜寻动作。例如： `/vbird`后，按下N则表示”向上“搜寻`vbird`。
| :n1,n2s/word1/word2/g | n1与n2为数字。在第n1与n2列之间寻找word1这个字串，并将该字串取代为word2。(**常用**) |
|:1,$s/word1/word2/g | 从第一列到最后一列寻找word1字串，并将改字串取代为word2 |
|:1,$s/word1/word2/gc | 从第一列到最后一列寻找word1字串，并将该字串取代为word2，**并且取代前显示提示字符给使用者确认(confirm)是否需要取代**,(**常用**) |

## 2. 删除、赋值和粘贴
| 删除、赋值和粘贴 | 删除、赋值和粘贴 |
| ---------     | ------------  |
| x，X | 在一列字当中，x为向后删除一个字符（相当于del按键）,X为向前删除一个字符(相当于del按键)，X为向前删除一个字符（相当于backspace）亦即是倒退键）。(**常用**)
| nx | n为数字，连续向后删除n个字符。举例来说，我要连续删除10个字符，”10x“。| 
| dd | 删除光标所在的那一整列(**常用**) | 
| ndd | n为数字。删除光标所在的向下的n列，例如20dd则是删除20列(**常用**) |
| d1G | 删除光标所在第一列的所有数据 | 
| dG | 删除光标所在到最后一列的所有数据 |
| d$ | 删除光标所在处，到该列的最后一个字符 | 
| d0 | 那是数字0，删除光标所在处，到该列的最前面的一个字符 | 
| yy | 复制光标所在的那一列(**常用**) |
| nyy | n为数字。复制光标所在的向下n列，例如20yy则是复制20列(**常用**)|
| y1G | 复制光标所在列到第一列的所有数据 | 
| yG | 复制所有光标所在的最后一列的所有数据 | 
| y0 | 复制光标所在的那个字符到该列行首的所有数据 | 
| y$ | 复制光标所在的那个字符到该列行尾的所有数据 | 
| p,P | “p 为将已复制的数据在光标下一列贴上，P 则为贴在光标上一列！ 举例来说，我目前光标在第 20 列，且已经复制了 10 列数据。则按下 p 后， 那 10 列数据会贴在原本的 20 列之后，亦即由 21 列开始贴。但如果是按下 P 呢？ 那么原本的第 20 列会被推到变成 30 列。 （常用 ）” | 
| J | 将光标所在列与下一列的数据结合成同一列 | 
| c | 重复删除多个数据，例如向下删除 10 列，[ 10cj ] |
| u | 复原前一个动作(**常用**) |
| ctrl + r | 重做上一个动作(**常用**) |

## 2. 第二部份：一般指令模式切换到编辑模式的可用的按钮说明

| 进入插入或取代的编辑模式 | 进入插入或取代的编辑模式 |
| ------------------- | ------------------- | 
| i,I | 进入插入模式（Insert mode）：
i 为“从目前光标所在处插入”， I 为“在目前所在列的第一个非空白字符处开始插入”。(**常用**) |
| a,A | 进入插入模式（Insert mode）：
a 为“从目前光标所在的下一个字符处开始插入”， A 为“从光标所在列的最后一个字符处开始插入 (**常用**) |
| o，O |  进入插入模式（Insert mode）：
这是英文字母 o 的大小写。o 为“在目前光标所在的下一列处插入新的一列”； O 为在目前光标所在处的上一列插入新的一列(**常用**) |
| r,R | 进入取代模式（Replace mode）：
r 只会取代光标所在的那一个字符一次；R会一直取代光标所在的文字，直到按下 ESC 为止;(**常用**) | 
|  Esc | 退出编辑模式，回到一般指令中(**常用**) | 


3. 第三部分： 一般指令模式切换到命令行界面的可用按钮说明

| 命令行界面的存储、离开等指令 | 命令行界面的存储、离开等指令 |
| ----------------------- | ----------------------- | 
| :w | 将编辑的数据写入硬盘文件中(**常用**) |
| :w! | 若文件属性为“只读”时，强制写入该文件。不过，到底能不能写入， 还是跟你对该文件的文件权限有关啊 |
| :q | 离开vi(**常用**) |
| :wq | 储存后离开，若为 :wq! 则为强制储存后离开(**常用**) |
| ZZ | 这是大写的 Z 喔！若文件没有更动，则不储存离开，若文件已经被更动过，则储存后离开！| 
| :w [filename] | 将编辑的数据储存成另一个文件（类似另存新文件）| 
| :r [filename] | 在编辑的数据中，读入另一个文件的数据。亦即将 “filename” 这个文件内容加到光标所在列后面 |
| :n1,n2 w [filename] | 将 n1 到 n2 的内容储存成 filename 这个文件。|

## 3. vim环境的变更
| vim环境的变更 | vim环境的变更 |
| ------------ | ---------- |
| :set nu | 显示行号，设置之后，会在每一列的字首显示该列的行号 |
| :set nonu | 与set nu相反，为取消行号 |